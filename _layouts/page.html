---
layout: default
---

<!-- Page Header -->
<header class="intro-header">
	<!-- ref: https://codepen.io/anon/pen/GVOKgB -->
	<div id='stars'></div>
	<div id='stars2'></div>
	<div id='stars3'></div>
	<!-- end ref -->
	<div class="container">
		<div class="row">
			<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 ">
				<div class="site-heading">
					<h1>{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}</h1>
					<!--<hr class="small">-->
					<span class="subheading">{{ page.description }}</span>
				</div>
			</div>
		</div>
	</div>
</header>

<!-- Main Content -->
<div class="container">
	<div class="row">
		{% if site.sidebar == false %}
		<!-- NO SIDEBAR -->
		<!-- PostList Container -->
		<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 postlist-container">
			{{ content }}
		</div>
		<!-- Sidebar Container -->
		<div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

			<!-- Featured Tags -->
			{% if site.featured-tags %}
			<section>
				<!-- no hr -->
				<h5><a href="{{'/tags/' | prepend: site.baseurl }}">FEATURED TAGS</a></h5>
				<div class="tags">
					{% for tag in site.tags %}
					{% if tag[1].size > site.featured-condition-size %}
					<a href="{{ site.baseurl }}/tags/#{{ tag[0] }}" title="{{ tag[0] }}" rel="{{ tag[1].size }}">
						{{ tag[0] }}
					</a>
					{% endif %}
					{% endfor %}
				</div>
			</section>
			{% endif %}

			<!-- Friends Blog -->
			{% if site.friends %}
			<hr>
			<h5>FRIENDS</h5>
			<ul class="list-inline">
				{% for friend in site.friends %}
				<li><a href="{{friend.href}}">{{friend.title}}</a></li>
				{% endfor %}
			</ul>
			{% endif %}
		</div>
		{% else %}

		<!-- USE SIDEBAR -->
		<!-- PostList Container -->
		<div class="
                col-lg-8 col-lg-offset-1
                col-md-8 col-md-offset-1
                col-sm-12
                col-xs-12
                postlist-container
            ">
			{{ content }}
		</div>
		<!-- Sidebar Container -->
		<div class="
                col-lg-3 col-lg-offset-0
                col-md-3 col-md-offset-0
                col-sm-12
                col-xs-12
                sidebar-container
            ">
			<!-- Featured Tags -->
			{% if site.featured-tags %}
			<section>
				<hr class="hidden-sm hidden-xs">
				<h5><a href="{{'/tags/' | prepend: site.baseurl }}">FEATURED TAGS</a></h5>
				<div class="tags">
					{% for tag in site.tags %}
					{% if tag[1].size > site.featured-condition-size %}
					<a href="{{ site.baseurl }}/tags/#{{ tag[0] }}" title="{{ tag[0] }}" rel="{{ tag[1].size }}">
						{{ tag[0] }}
					</a>
					{% endif %}
					{% endfor %}
				</div>
			</section>
			{% endif %}

			<!-- Short About -->
			<section class="visible-md visible-lg">
				<hr>
				<h5><a href="{{'/about/' | prepend: site.baseurl }}">ABOUT ME</a></h5>
				<div class="short-about">
					{% if site.sidebar-avatar %}
					<a href="{{ site.baseurl }}/about">
						<img src="{{site.sidebar-avatar}}" />
					</a>
					{% endif %}
					{% if site.sidebar-about-description %}
					<p>{{site.sidebar-about-description}}</p>
					{% endif %}
					<!-- SNS Link -->
					<ul class="list-inline">
						{% if site.RSS %}
						<li>
							<a href="{{ "/feed.xml" | prepend: site.baseurl }}">
								<span class="fa-stack fa-lg">
									<i class="fa fa-circle fa-stack-2x"></i>
									<i class="fa fa-rss fa-stack-1x fa-inverse"></i>
								</span>
							</a>
						</li>
						{% endif %}
						<!-- add jianshu add target = "_blank" to <a> by BY -->
						{% if site.jianshu_username %}
						<li>
							<a target="_blank" href="https://www.jianshu.com/u/{{ site.jianshu_username }}">
								<span class="fa-stack fa-lg">
									<i class="fa fa-circle fa-stack-2x"></i>
									<i class="fa  fa-stack-1x fa-inverse">简</i>
								</span>
							</a>
						</li>
						{% endif %}
						{% if site.twitter_username %}
						<li>
							<a href="https://twitter.com/{{ site.twitter_username }}">
								<span class="fa-stack fa-lg">
									<i class="fa fa-circle fa-stack-2x"></i>
									<i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
								</span>
							</a>
						</li>
						{% endif %}
						{% if site.zhihu_username %}
						<li>
							<a target="_blank" href="https://www.zhihu.com/people/{{ site.zhihu_username }}">
								<span class="fa-stack fa-lg">
									<i class="fa fa-circle fa-stack-2x"></i>
									<i class="fa  fa-stack-1x fa-inverse">知</i>
								</span>
							</a>
						</li>
						{% endif %}
						{% if site.weibo_username %}
						<li>
							<a target="_blank" href="http://weibo.com/{{ site.weibo_username }}">
								<span class="fa-stack fa-lg">
									<i class="fa fa-circle fa-stack-2x"></i>
									<i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
								</span>
							</a>
						</li>
						{% endif %}
						{% if site.facebook_username %}
						<li>
							<a target="_blank" href="https://www.facebook.com/{{ site.facebook_username }}">
								<span class="fa-stack fa-lg">
									<i class="fa fa-circle fa-stack-2x"></i>
									<i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
								</span>
							</a>
						</li>
						{% endif %}
						{% if site.github_username %}
						<li>
							<a target="_blank" href="https://github.com/{{ site.github_username }}">
								<span class="fa-stack fa-lg">
									<i class="fa fa-circle fa-stack-2x"></i>
									<i class="fa fa-github fa-stack-1x fa-inverse"></i>
								</span>
							</a>
						</li>
						{% endif %}
						{% if site.email %}
						<li>
							<a href="mailto: {{ site.email }}">
								<span class="fa-stack fa-lg">
									<i class="fa fa-circle fa-stack-2x"></i>
									<i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
								</span>
							</a>
						</li>
						{% endif %}
					</ul>
				</div>
			</section>
			<!-- Friends Blog -->
			{% if site.friends %}
			<hr>
			<h5>FRIENDS</h5>
			<ul class="list-inline">
				{% for friend in site.friends %}
				<li><a href="{{friend.href}}">{{friend.title}}</a></li>
				{% endfor %}
			</ul>
			{% endif %}
		</div>
		{% endif %}
	</div>
</div>

<script>
	//==========================================
	// File:    background.js
	// Title:   星空连线(鼠标跟随)
	// Auther:  XieNaoban
	// Version: v1.1
	// Note:    直接扔在<body>里
	//==========================================

	// Last Modified By: DiscreteTom(discrete_tom@outlook.com) on 2019-08-04

	// 可调参数
	var BACKGROUND_COLOR = "rgba(255,255,255,1)";   // 背景色
	// var BACKGROUND_COLOR = "rgba(0,43,54,1)";   // 背景色
	var POINT_NUM = 99;                         // 屏幕上点的数目
	var POINT_COLOR = "rgba(204,204,204,0.7)";  // 点的颜色
	var LINE_COLOR = "204, 204, 204";           // RGB
	var LINE_LENGTH = 10000;                    // 点之间连线长度(的平方)

	// 创建背景画布
	var cvs = document.createElement("canvas");
	cvs.width = window.innerWidth;
	cvs.height = window.innerHeight;
	cvs.style.cssText = "\
    position:fixed;\
    top:0px;\
    left:0px;\
    z-index:-1;\
    opacity:1.0;\
    ";
	document.body.appendChild(cvs);

	var ctx = cvs.getContext("2d");

	//随机数函数
	function randomInt(min, max) {
		return Math.floor((max - min + 1) * Math.random() + min);
	}

	function randomFloat(min, max) {
		return (max - min) * Math.random() + min;
	}

	//构造点类
	function Point() {
		this.x = randomFloat(0, cvs.width);
		this.y = randomFloat(0, cvs.height);

		var speed = randomFloat(0.3, 1.4);
		var angle = randomFloat(0, 2 * Math.PI);

		this.dx = Math.sin(angle) * speed;
		this.dy = Math.cos(angle) * speed;

		this.r = 1.2;

		this.color = POINT_COLOR;
	}

	Point.prototype.move = function () {
		var dx = this.x - p0.x;
		var dy = this.y - p0.y;
		var old_dis2 = dx * dx + dy * dy;
		this.x += this.dx;
		if (this.x < 0) {
			this.x = 0;
			this.dx = -this.dx;
		} else if (this.x > cvs.width) {
			this.x = cvs.width;
			this.dx = -this.dx;
		}
		this.y += this.dy;
		if (this.y < 0) {
			this.y = 0;
			this.dy = -this.dy;
		} else if (this.y > cvs.height) {
			this.y = cvs.height;
			this.dy = -this.dy;
		}

		// judge relation with mouse
		if (old_dis2 > LINE_LENGTH) return; // this point is not captured by mouse
		if (p0.x == null) return; // mouse is out of window
		dx = this.x - p0.x;
		dy = this.y - p0.y;
		var new_dis2 = dx * dx + dy * dy;
		if (new_dis2 > LINE_LENGTH) {
			// this point was captured by mouse but it's trying to escape
			let t = this.dx;
			this.dx = -this.dy;
			this.dy = t;
		}
	}

	Point.prototype.draw = function () {
		ctx.fillStyle = this.color;
		ctx.beginPath();
		ctx.arc(this.x, this.y, this.r, 0, Math.PI * 2);
		ctx.closePath();
		ctx.fill();
	}

	var points = [];

	function initPoints(num) {
		for (var i = 0; i < num; ++i) {
			points.push(new Point());
		}
	}

	var p0 = new Point(); //鼠标
	p0.dx = p0.dy = 0;
	document.onmousemove = function (ev) {
		p0.x = ev.clientX;
		p0.y = ev.clientY;
	}
	document.onmousedown = function (ev) {
		p0.x = ev.clientX;
		p0.y = ev.clientY;
	}
	document.onmouseup = function (ev) {
		p0.x = ev.clientX;
		p0.y = ev.clientY;
	}
	window.onmouseout = function () {
		p0.x = null;
		p0.y = null;
	}

	function drawLine(p1, p2, deg) {
		var dx = p1.x - p2.x;
		var dy = p1.y - p2.y;
		var dis2 = dx * dx + dy * dy;
		if (dis2 < 2 * LINE_LENGTH) {
			if (p1 === p0) {
				if (dis2 > LINE_LENGTH) {
					p2.x += dx * 0.03;
					p2.y += dy * 0.03;
				} else return;
			}
			var t = (1.05 - dis2 / LINE_LENGTH) * 0.2 * deg;
			ctx.strokeStyle = 'rgba(' + LINE_COLOR + ',' + t + ')';
			ctx.beginPath();
			ctx.lineWidth = 1.5;
			ctx.moveTo(p1.x, p1.y);
			ctx.lineTo(p2.x, p2.y);
			ctx.closePath();
			ctx.stroke();
		}
		return;
	}

	//绘制每一帧
	function drawFrame() {
		cvs.width = window.innerWidth;
		cvs.height = window.innerHeight;
		ctx.fillStyle = BACKGROUND_COLOR;
		ctx.fillRect(0, 0, cvs.width, cvs.height);

		var arr = (p0.x == null ? points : [p0].concat(points));
		for (var i = 0; i < arr.length; ++i) {
			for (var j = i + 1; j < arr.length; ++j) {
				drawLine(arr[i], arr[j], 1.0);
			}
			arr[i].draw();
			arr[i].move();
		}

		window.requestAnimationFrame(drawFrame);
	}

	initPoints(POINT_NUM);
	drawFrame();
</script>