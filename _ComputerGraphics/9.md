---
layout: collection
author: DiscreteTom
catalog: true
title: '真实感图形技术'
collection: ComputerGraphics
---

## 概述

真实感图形：添加光照、明暗、光线追踪、纹理等的图形

真实感图形生成步骤：
1. 三维场景建模
2. 三维图形转换为二维透视图
3. 确定消隐
4. 计算颜色（本章重点

## 光照模型概述

光强(intensity of light)通常使用RGB表示

光照模型，即光强的计算公式

光照射到物体上分解为：
- 反射光
- 透射光
- 被物体吸收转换成的热

其中反射光和透射光的强弱决定了物体表面的明暗程度

不同的光源和不同的表面材料会影响反射光和透射光的成分

## 简单光照模型

### 基本原理

不考虑透射光，仅反射光

反射光的三个分量：
- 环境反射$I_{pa}$，取常数
- 漫反射，使用朗伯定律计算
- 镜面反射

**朗伯定律**：对于一个漫反射体，表面反射光强度和光源入射角的余弦成正比，即$I = I_{pd} \cos i$，其中$I$为表面反射光的亮度，$I_{pd}$为光源垂直入射时的光亮度，$i$为入射角

**镜面反射**：$I = I_{ps}\cos^n\theta$，其中$I_{ps}$为镜面反射方向上光亮度，$\theta$为夹角，$n$为汇聚指数

### Phong模型

$$
I = k_aI_{pa}+\sum[k_dI_{pd}\cos i+k_sI_{ps}\cos^n\theta]
$$

其中$k_a$、$k_d$、$k_s$分别为环境反射、漫反射、镜面反射分量系数，材质系数为$k_d$、$k_s$（二者之和为1）。$\sum$表示对所有光源求和

在计算机中通常使用RGB三个分量计算，即上述公式中的I都是一个三维列向量

### 算法实现

